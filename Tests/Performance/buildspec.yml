version: 0.2

phases:
  install:
    commands:
      - echo Entered the install phase...
      - yum -y install curl
      - curl -sL https://rpm.nodesource.com/setup_14.x
      - yum install -y nodejs
      - node --version
      - mkdir artillery
      - cd artillery
      - npm init
      - npm install -g artillery@latest
      - artillery dino
    finally:
      - echo This always runs even if the update or install command fails 
  pre_build:
    commands:
      - echo Entered the pre_build phase...
    finally:
      - echo This always runs even if the login command fails 
  build:
    commands:
      - echo Entered the build phase..
    finally:
      - echo This always runs even if the install command fails
  post_build:
    commands:
      - echo Entered the post_build phase...
      - echo Build completed on `date`
#reports:
  #regression-suite:
  #  files:
  #    - 'Tests/tests/results.xml'
  #  file-format: JUNITXML
artifacts:
  files:
    - "**/*"